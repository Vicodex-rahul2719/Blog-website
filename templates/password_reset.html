{% extends "base/base.html" %}
{% block content %}
<style>
  /* Page background */
  .pw-reset-page {
    min-height: 70vh;
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 3rem 1rem;
    background: linear-gradient(135deg, #eef2f3 0%, #d9e4f5 100%);
    font-family: "Poppins", system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
    color: #22303f;
  }

  /* Card */
  .pw-card {
    width: 100%;
    max-width: 700px;
    border-radius: 20px;
    overflow: hidden;
    box-shadow: 0 18px 50px rgba(16, 24, 40, 0.15);
    background: linear-gradient(180deg, rgba(255,255,255,0.98) 0%, rgba(250,250,255,0.95) 100%);
    display: grid;
    grid-template-columns: 1fr 420px;
  }

  /* Left decorative panel */
  .pw-left {
    padding: 2.25rem;
    background: linear-gradient(135deg, rgba(78,115,223,0.95), rgba(28,200,138,0.95));
    color: #fff;
    display: flex;
    flex-direction: column;
    justify-content: center;
    gap: 1rem;
  }
  .pw-left .logo {
    display: flex;
    align-items: center;
    gap: .75rem;
    font-weight: 700;
    font-size: 1.125rem;
  }
  .pw-left .logo svg { filter: drop-shadow(0 2px 8px rgba(0,0,0,0.18)); }
  .pw-left h3 {
    margin: 0;
    font-size: 1.6rem;
    font-weight: 700;
    letter-spacing: .2px;
  }
  .pw-left p {
    margin: 0;
    opacity: 0.95;
    line-height: 1.35;
  }

  /* Right form area */
  .pw-right {
    padding: 2.25rem;
    background: rgba(255,255,255,0.98);
  }
  .pw-right h2 {
    margin: 0 0 0.5rem 0;
    font-size: 1.25rem;
    color: #12243b;
  }
  .pw-right p.lead {
    margin: 0 0 1rem 0;
    color: #4b5b6b;
  }

  /* Form controls */
  .pw-form .form-control {
    width: 100%;
    padding: 12px 14px;
    border-radius: 12px;
    border: 1.5px solid #e3e8f1;
    background: #fbfdff;
    box-shadow: inset 0 2px 6px rgba(14,30,37,0.03);
    transition: box-shadow .2s, border-color .15s;
    font-size: .98rem;
  }
  .pw-form .form-control:focus {
    outline: none;
    border-color: #4e73df;
    box-shadow: 0 6px 20px rgba(78,115,223,0.12);
  }

  .pw-actions {
    display: flex;
    gap: .75rem;
    justify-content: flex-end;
    margin-top: 1.1rem;
  }

  .btn-gradient {
    background: linear-gradient(135deg, #4e73df, #1cc88a);
    border: none;
    color: #fff;
    border-radius: 999px;
    padding: 10px 22px;
    font-weight: 600;
    box-shadow: 0 8px 30px rgba(78,115,223,0.18);
    cursor: pointer;
  }
  .btn-outline {
    background: transparent;
    border: 1px solid #e6eefc;
    color: #283845;
    padding: 10px 18px;
    border-radius: 999px;
    cursor: pointer;
  }

  /* messages */
  .pw-messages { margin-bottom: 1rem; }
  .pw-messages .alert { border-radius: 10px; padding: .6rem .9rem; }

  /* responsive */
  @media (max-width: 900px) {
    .pw-card { grid-template-columns: 1fr; }
    .pw-left { padding: 1.25rem; }
    .pw-right { padding: 1.25rem; }
  }
</style>

<div class="pw-reset-page">
  <div class="pw-card">

    <!-- Left decorative/info panel -->
    <div class="pw-left">
      <div class="logo">
        <!-- small inline SVG logo for email/lock -->
        <svg width="34" height="34" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
          <rect x="1.5" y="6" width="21" height="13" rx="2" fill="rgba(255,255,255,0.12)"/>
          <path d="M3 8.5l9 6 9-6" stroke="#ffffff" stroke-width="1.2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
        MySite
      </div>

      <h3>Forgot your password?</h3>
      <p>
        No problem — enter the email address associated with your account and we’ll send a secure link that lets you choose a new password.
      </p>

      <small style="opacity:.95;">
        <strong>Tip:</strong> Check your spam/junk folder if you don’t see the email within a minute.
      </small>
    </div>

    <!-- Right: form -->
    <div class="pw-right">
      <!-- Django messages -->
      {% if messages %}
      <div class="pw-messages">
        {% for message in messages %}
          <div class="alert alert-{{ message.tags }}" role="alert">
            {{ message }}
          </div>
        {% endfor %}
      </div>
      {% endif %}

      <h2>Reset Your Password</h2>
      <p class="lead">Enter the email address for your account and we’ll send a password reset link.</p>

      <form method="post" class="pw-form" novalidate>
        {% csrf_token %}

        {# If you use crispy forms, replace the next line with {{ form|crispy }} #}
        {{ form.email.errors }}
        <div style="margin-bottom: .8rem;">
          {{ form.email }}
        </div>

        <div class="pw-actions">
          <a href="{% url 'login' %}" class="btn-outline">Back to login</a>
          <button type="submit" class="btn-gradient">Send Reset Link</button>
        </div>
      </form>

      <div style="margin-top:1rem; font-size:.92rem; color:#6b7b8a;">
        If you don't receive an email, it may be because the address isn't registered — you can try again or contact support.
      </div>
    </div>
  </div>
</div>
{% endblock %}
